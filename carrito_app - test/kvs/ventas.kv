#:kivy 2.0

<DataWidVentas>:
    data: ''
    data_id: ''
    canvas:
        Color:
            rgb: 0.2,0.2,0.2
        Rectangle:
            size: self.size
            pos: self.pos
    Label:
        size_hint_x: 0.8
        size_font: self.width*0.4
        text: root.data
    Button:
        size_hint_x: 0.2
        text: 'Borrar'
        on_press: root.delete_data()


<DataBaseWidVentas>:
    orientation: 'vertical'
    canvas:
        Color:
            rgb: .3,.3,.5
        Rectangle:
            pos: self.pos
            size: self.size

    GridLayout:
        cols: 2
        size_hint_y: None
        row_default_height: root.height*0.1
        height: self.minimum_height

        Button:
            size_hint_y: None
            font_size: '18sp'
            height: '100dp'
            text: 'Inicio'
            on_press: app.root.transition = SlideTransition(direction='right')
            on_release: root.mainwid.goto_start()

        Button:
            size_hint_y: None
            font_size: '18sp'
            height: '100dp'
            text: 'Nueva Comanda'
            on_press: app.root.transition = SlideTransition(direction='left')
            on_release: root.create_new_product()

    ScrollView:
        size: self.size
        GridLayout:
            id: container_x
            padding: [10,10,10,10]
            spacing: 5
            size_hint_y: None
            cols: 1
            row_default_height: root.height*0.3
            height: self.minimum_height

<LeftLabel@Label>:
    text_size: self.size
    halign: 'left'


<InsertDataWidVentas>:
    canvas:
        Color:
            rgb: 0.2,0.2,0.2
        Rectangle:
            pos: self.pos
            size: self.size

    do_default_tab: False
    tab_pos: 'top_mid'


    TabbedPanelItem:
        text: 'Comidas'
        font_size: '18dp'

        BoxLayout:
            orientation: 'vertical'
            size: root.width, root.height

            Label:
                text: 'Seleccione Comidas'
                font_size: '20dp'
                size_hint_y: 0.2

            GridLayout:
                id: container
                cols:3
                spacing: '30dp'
                width: '390dp'
                row_default_height: '38dp'
                row_force_default: True
                pos_hint: {"center_x": 0.55}

                #--------------------------------------------------------------------------------------- A
                CheckBox:
                    id: check_a
                    size_hint: None, 0.5
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active, 'Completo Vienesa',\
                        ti_qtya.text, anchor_a, 2500)

                Label:
                    text: 'Completo Vienesa'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_a
                    opacity: 0
                    anchor_x: 'right'

                    GridLayout:
                        cols: 3
                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtya.text = str(int(ti_qtya.text)-1)
                                if int(ti_qtya.text) < 0: ti_qtya.text="0"
                                root.checkbox_click(self, check_a.active,\
                                'Completo Vienesa', ti_qtya.text, anchor_a, -2500)
                        TextInput:
                            id: ti_qtya
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtya.text = str(int(ti_qtya.text)+1)
                                root.checkbox_click(self, check_a.active,\
                                'Completo Vienesa', ti_qtya.text, anchor_a, 2500)

                #--------------------------------------------------------------------------------------- B
                CheckBox:
                    id: check_b
                    size_hint: None, 0.3
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active, 'Completo Ass',\
                        ti_qtyb.text, anchor_b, 3500)

                Label:
                    text: 'Completo Ass'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_b
                    opacity: 0
                    anchor_x: 'right'
                    GridLayout:
                        cols: 3

                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtyb.text = str(int(ti_qtyb.text)-1)
                                if int(ti_qtyb.text) < 0: ti_qtyb.text="0"
                                root.checkbox_click(self, check_b.active,\
                                'Completo Ass', ti_qtyb.text, anchor_b, -3500)

                        TextInput:
                            id: ti_qtyb
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtyb.text = str(int(ti_qtyb.text)+1)
                                root.checkbox_click(self, check_b.active,\
                                'Completo Ass', ti_qtyb.text, anchor_b, 3500)


                #--------------------------------------------------------------------------------------- C
                CheckBox:
                    id: check_c
                    size_hint: None, 0.3
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active, 'Sandwich 3 Ing',\
                        ti_qtyc.text, anchor_c, 4000)

                Label:
                    text: 'Sandwich 3 Ing'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_c
                    opacity: 0
                    anchor_x: 'right'
                    GridLayout:
                        cols: 3

                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtyc.text = str(int(ti_qtyc.text)-1)
                                if int(ti_qtyc.text) < 0: ti_qtyc.text="0"
                                root.checkbox_click(self, check_c.active,\
                                'Sandwich 3 Ing', ti_qtyc.text, anchor_c, -400)

                        TextInput:
                            id: ti_qtyc
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtyc.text = str(int(ti_qtyc.text)+1)
                                root.checkbox_click(self, check_c.active,\
                                'Sandwich 3 Ing', ti_qtyc.text, anchor_c, 4000)


                #--------------------------------------------------------------------------------------- D
                CheckBox:
                    id: check_d
                    size_hint: None, 0.3
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active, 'Fajita',\
                        ti_qtyd.text, anchor_d, 4000)

                Label:
                    text: 'Fajita'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_d
                    opacity: 0
                    anchor_x: 'right'
                    GridLayout:
                        cols: 3
                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtyd.text = str(int(ti_qtyd.text)-1)
                                if int(ti_qtyd.text) < 0: ti_qtyd.text="0"
                                root.checkbox_click(self, check_d.active,\
                                'Fajita', ti_qtyd.text, anchor_d, -4000)

                        TextInput:
                            id: ti_qtyd
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtyd.text = str(int(ti_qtyd.text)+1)
                                root.checkbox_click(self, check_d.active,\
                                'Fajita', ti_qtyd.text, anchor_d, 4000)

                #--------------------------------------------------------------------------------------- E
                CheckBox:
                    id: check_e
                    size_hint: None, 0.3
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active, 'Papas Fritas Chica',\
                        ti_qtye.text, anchor_e, 1500)

                Label:
                    text: 'Papas Fritas Chica'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_e
                    opacity: 0
                    anchor_x: 'right'

                    GridLayout:
                        cols: 3
                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtye.text = str(int(ti_qtye.text)-1)
                                if int(ti_qtye.text) < 0: ti_qtye.text="0"
                                root.checkbox_click(self, check_e.active,\
                                'Papas Fritas Chica', ti_qtye.text, anchor_e, -1500)

                        TextInput:
                            id: ti_qtye
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtye.text = str(int(ti_qtye.text)+1)
                                root.checkbox_click(self, check_e.active,\
                                'Papas Fritas Chica', ti_qtye.text, anchor_e, 1500)

                #--------------------------------------------------------------------------------------- F
                CheckBox:
                    id: check_f
                    size_hint: None, 0.3
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active,\
                        'Papas Fritas Mediana', ti_qtyf.text, anchor_f, 2500)

                Label:
                    text: 'Papas Fritas Mediana'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_f
                    opacity: 0
                    anchor_x: 'right'
                    GridLayout:
                        cols: 3
                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtyf.text = str(int(ti_qtyf.text)-1)
                                if int(ti_qtyf.text) < 0: ti_qtyf.text="0"
                                root.checkbox_click(self, check_f.active,\
                                'Papas Fritas Mediana', ti_qtyf.text, anchor_f, -2500)

                        TextInput:
                            id: ti_qtyf
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtyf.text = str(int(ti_qtyf.text)+1)
                                root.checkbox_click(self, check_f.active,\
                                'Papas Fritas Mediana', ti_qtyf.text, anchor_f, 2500)

                #--------------------------------------------------------------------------------------- G
                CheckBox:
                    id: check_g
                    size_hint: None, 0.3
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active, 'Papas Fritas Grande',\
                        ti_qtyg.text, anchor_g, 3500)

                Label:
                    text: 'Papas Fritas Grande'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_g
                    opacity: 0
                    anchor_x: 'right'
                    GridLayout:
                        cols: 3
                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtyg.text = str(int(ti_qtyg.text)-1)
                                if int(ti_qtyg.text) < 0: ti_qtyg.text="0"
                                root.checkbox_click(self, check_g.active,\
                                'Papas Fritas Grande', ti_qtyg.text, anchor_g, -3500)

                        TextInput:
                            id: ti_qtyg
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtyg.text = str(int(ti_qtyg.text)+1)
                                root.checkbox_click(self, check_g.active,\
                                'Papas Fritas "L"', ti_qtyg.text, anchor_g, 3500)


    TabbedPanelItem:
        text: 'Bebidas'
        font_size: '18dp'

        BoxLayout:
            orientation: 'vertical'
            size: root.width, root.height

            Label:
                text: 'Seleccione Bebidas'
                font_size: '20dp'
                size_hint_y: 0.2

            GridLayout:
                id: container
                cols:3
                spacing: '30dp'
                width: '390dp'
                row_default_height: '38dp'
                row_force_default: True
                pos_hint: {"center_x": 0.55}

                #--------------------------------------------------------------------------------------- H
                CheckBox:
                    id: check_h
                    size_hint: None, 0.5
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active, 'Lata Bebida',\
                        ti_qtyh.text, anchor_h, 1000)

                Label:
                    text: 'Lata Bebida'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_h
                    opacity: 0
                    anchor_x: 'right'

                    GridLayout:
                        cols: 3
                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtyh.text = str(int(ti_qtyh.text)-1)
                                if int(ti_qtyh.text) < 0: ti_qtyh.text="0"
                                root.checkbox_click(self, check_h.active,\
                                'Lata Bebida', ti_qtyh.text, anchor_h, -1000)

                        TextInput:
                            id: ti_qtyh
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtyh.text = str(int(ti_qtyh.text)+1)
                                root.checkbox_click(self, check_h.active,\
                                'Lata Bebida', ti_qtyh.text, anchor_h, 1000)

                #--------------------------------------------------------------------------------------- I
                CheckBox:
                    id: check_i
                    size_hint: None, 0.5
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active,\
                        'Botella Bebida 500cc', ti_qtyi.text, anchor_i, 1500)

                Label:
                    text: 'Botella Bebida 500cc'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_i
                    opacity: 0
                    anchor_x: 'right'

                    GridLayout:
                        cols: 3
                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtyi.text = str(int(ti_qtyi.text)-1)
                                if int(ti_qtyi.text) < 0: ti_qtyi.text="0"
                                root.checkbox_click(self, check_i.active,\
                                'Botella Bebida 500cc', ti_qtyi.text, anchor_i, -1500)

                        TextInput:
                            id: ti_qtyi
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtyi.text = str(int(ti_qtyi.text)+1)
                                root.checkbox_click(self, check_i.active,\
                                'Botella Bebida 500cc', ti_qtyi.text, anchor_i, 1500)

                #--------------------------------------------------------------------------------------- J
                CheckBox:
                    id: check_j
                    size_hint: None, 0.5
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active, 'Agua Mineral 500cc',\
                        ti_qtyj.text, anchor_j, 1000)

                Label:
                    text: 'Agua Mineral 500cc'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_j
                    opacity: 0
                    anchor_x: 'right'

                    GridLayout:
                        cols: 3
                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtyj.text = str(int(ti_qtyj.text)-1)
                                if int(ti_qtyj.text) < 0: ti_qtyj.text="0"
                                root.checkbox_click(self, check_j.active,\
                                'Agua Mineral 500cc', ti_qtyj.text, anchor_j, -1000)

                        TextInput:
                            id: ti_qtyj
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtyj.text = str(int(ti_qtyj.text)+1)
                                root.checkbox_click(self, check_j.active,\
                                'Agua Mineral 500cc', ti_qtyj.text, anchor_j, 1000)

                #--------------------------------------------------------------------------------------- K
                CheckBox:
                    id: check_k
                    size_hint: None, 0.5
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active, 'Redbull Lata',\
                        ti_qtyk.text, anchor_k, 2000)

                Label:
                    text: 'Redbull Lata'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_k
                    opacity: 0
                    anchor_x: 'right'

                    GridLayout:
                        cols: 3
                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtyk.text = str(int(ti_qtyk.text)-1)
                                if int(ti_qtyk.text) < 0: ti_qtyk.text="0"
                                root.checkbox_click(self, check_k.active,\
                                'Redbull Lata', ti_qtyk.text, anchor_k, -2000)

                        TextInput:
                            id: ti_qtyk
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            wwidth: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtyk.text = str(int(ti_qtyk.text)+1)
                                root.checkbox_click(self, check_k.active,\
                                'Redbull Lata', ti_qtyk.text, anchor_k, 2000)


                #--------------------------------------------------------------------------------------- L
                CheckBox:
                    id: check_l
                    size_hint: None, 0.5
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active, 'Milo',\
                        ti_qtyl.text, anchor_l, 700)

                Label:
                    text: 'Milo'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_l
                    opacity: 0
                    anchor_x: 'right'

                    GridLayout:
                        cols: 3
                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtyl.text = str(int(ti_qtyl.text)-1)
                                if int(ti_qtyl.text) < 0: ti_qtyl.text="0"
                                root.checkbox_click(self, check_l.active, 'Milo',\
                                ti_qtyl.text, anchor_l, -700)
                        TextInput:
                            id: ti_qtyl
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtyl.text = str(int(ti_qtyl.text)+1)
                                root.checkbox_click(self, check_l.active, 'Milo',\
                                ti_qtyl.text, anchor_l, 700)


                #--------------------------------------------------------------------------------------- M
                CheckBox:
                    id: check_m
                    size_hint: None, 0.5
                    width: '30dp'
                    halign: 'left'
                    on_active:
                        root.checkbox_click(self, self.active,\
                        'Te / Cafe', ti_qtym.text, anchor_m, 500)

                Label:
                    text: 'Te / Cafe'
                    text_size: self.size
                    font_size: '16dp'
                    halign: 'left'
                    valign: 'middle'

                AnchorLayout:
                    id: anchor_m
                    opacity: 0
                    anchor_x: 'right'

                    GridLayout:
                        cols: 3
                        Button:
                            id: boton_menos
                            width: '35dp'
                            size_hint_x: None
                            text:'-'
                            on_press:
                                ti_qtym.text = str(int(ti_qtym.text)-1)
                                if int(ti_qtym.text) < 0: ti_qtym.text="0"
                                root.checkbox_click(self, check_m.active,\
                                'Te / Cafe', ti_qtym.text, anchor_m, -500)

                        TextInput:
                            id: ti_qtym
                            width: '35dp'
                            multiline: False
                            size_hint_x: None
                            readonly: True
                            text:'1'

                        Button:
                            id: boton_mas
                            width: '35dp'
                            size_hint_x: None
                            text:'+'
                            on_press:
                                ti_qtym.text = str(int(ti_qtym.text)+1)
                                root.checkbox_click(self, check_m.active,\
                                'Te / Cafe', ti_qtym.text, anchor_m, 500)

                #---------------------------------------------------------------------------------------


    TabbedPanelItem:
        text: 'Pagar'
        font_size: '18dp'

        BoxLayout:
            orientation: 'vertical'
            size: root.width, root.height


            Label:
                text: '\nSu pedido es:'
                font_size: '20dp'
                size_hint_y: 0.4

            Label:
                id: output_label
                size_hint: 1, None
                height: '380dp'
                font_size: '16dp'
                halign: 'center'
                valign: 'middle'
                text: ''

            Label:
            Label:

            GridLayout:
                cols: 2
                Label:
                    text:'Total a Pagar'
                    font_size: '16dp'

                AnchorLayout:
                    anchor_x: 'center'
                    TextInput:
                        id: a_pagar
                        multiline: False
                        #readonly: True
                        size_hint: 0.8, None
                        height: '35dp'
                        padding : '6dp'
                        hint_text:'0'

            Label:
            Label:
            Label:
                text: '\n\nSeleccione Medio de Pago\n\n\n'
                font_size: '18dp'
                spacing: '30dp'

            GridLayout:
                cols:2
                row_default_height: '30dp'
                row_force_default: True
                spacing: '5dp'

                Label:
                    text: 'Efectivo'
                    font_size: '16dp'
                CheckBox:
                    group: 'metodos_pago'
                    on_active: root.mediodepago(self, self.active, 'Efectivo')

                Label:
                    text: 'Tarjeta'
                    font_size: '16dp'
                CheckBox:
                    group: 'metodos_pago'
                    on_active: root.mediodepago(self, self.active, 'Tarjeta')

            BoxLayout:
                size_hint_y: 6
            BoxLayout:
                Button:
                    size_hint_y: None
                    font_size: '14sp'
                    height: '50dp'
                    text: 'Salir'
                    on_press: app.root.transition = SlideTransition(direction='right')
                    on_release: root.back_to_dbw()
                Button:
                    size_hint_y: None
                    font_size: '14sp'
                    height: '50dp'
                    text: 'Generar Pedido'
                    on_press: app.root.transition = SlideTransition(direction='left')
                    on_release: root.insert_data()
